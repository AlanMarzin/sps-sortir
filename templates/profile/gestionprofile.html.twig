{% extends 'base.html.twig' %}

{% block tittle %}Modification profile{% endblock %}

{% block body %}
    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('css/styleUser.css') }}">
    {% endblock %}

    {#    Gestion de l'affichage de messages flash#}
    {% for label, messages in app.flashes  %}
        {% for message in messages %}
            <div class="flash flash-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {%  endfor %}

    <div class="user-card">
        <h2>Modifier le profil de : </h2>
        <h1>{{ user.pseudo }}</h1>
            <div class="user-info">
                <div class="container-img">
                    {% if   user.photo is not null%}
                        <img src="{{ asset('uploads/avatar/' ~ user.photo) }}" alt="{{ user.nom }}">
                    {%else%}
                        <img src="{{ asset('images/icondefaut.png') }}" alt="image par defaut">
                    {% endif %}
                </div>
                <div class="container-info">

                    <div class="erreurform">
                        {% if not profileForm.vars.valid%}
                            <h2> Erreur :</h2>
                            {{ form_errors(profileForm.nom)}}
                            {{ form_errors(profileForm.prenom) }}
                            {{ form_errors(profileForm.email) }}
                            {{ form_errors(profileForm.password) }}
                            {{ form_errors(profileForm.passwordConfirmation) }}
                            {{ form_errors(profileForm.pseudo) }}
                            {{ form_errors((profileForm.photo)) }}
                            {{ form_errors(profileForm.telephone) }}
                            {{ form_errors(profileForm.campus) }}
                       {% endif %}
                    </div>
                    {#  Formulaire de modification du profil utilisateur #}
                    {{ form_start(profileForm)}}


                        {{ form_label(profileForm.nom) }}
                        {{ form_widget(profileForm.nom) }}


                        {{ form_label(profileForm.prenom )}}
                        {{ form_widget(profileForm.prenom) }}

                        {{ form_label(profileForm.email) }}
                        {{ form_widget(profileForm.email) }}

                        {{ form_label(profileForm.password) }}
                        {{ form_widget(profileForm.password) }}

                        {{ form_label(profileForm.passwordConfirmation) }}
                        {{ form_widget(profileForm.passwordConfirmation) }}


                        {{ form_label(profileForm.pseudo) }}
                        {{ form_widget(profileForm.pseudo) }}

                        {{ form_label(profileForm.photo) }}
                        {{ form_widget(profileForm.photo) }}

                        {{ form_label(profileForm.telephone) }}
                        {{ form_widget(profileForm.telephone) }}

                        {{ form_label(profileForm.campus )}}
                        {{ form_widget(profileForm.campus) }}


                    </div>

                </div>

                    <div class="container-button">
                        {{ form_widget(profileForm) }}
                        <div class="form-widget">
                            <button>Valider</button>
                        </div>
                        {{ form_end(profileForm) }}
                        {#    Bouton de retour vers la page d'accueil#}
                        <div class="form-widget">
                            <a href="{{ path('sorties') }}"><button>RETOUR</button></a>
                        </div>
                    </div>
            </div>
    </div>


{% endblock %}
